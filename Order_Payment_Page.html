<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Review & Place Order</title>
  <style>
    body {
      background-color: #fff8dc;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .main-container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .header h1 {
      color: #000;
      margin-bottom: 20px;
    }

    section {
      margin-bottom: 20px;
      text-align: left;
    }

    label, select, input {
      display: block;
      margin: 10px 0;
      width: 100%;
      padding: 8px;
      font-size: 1em;
    }

    .store-banner {
      background-color: #ffcc00;
      padding: 10px;
      font-weight: bold;
      text-align: center;
    }

    .item-summary .item {
      background: #f9f9f9;
      border: 1px solid #ddd;
      padding: 10px;
      margin-bottom: 10px;
    }

    .counter {
      margin-top: 5px;
    }

    .counter button, .remove {
      margin: 0 5px;
    }

    .totals p {
      font-size: 1.1em;
    }

    .submit-area {
      margin-top: 20px;
    }

    .place-order {
      background-color: #ffcc00;
      border: none;
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      font-weight: bold;
    }

    .popup {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .popup-content {
      background: white;
      padding: 20px;
      border-radius: 5px;
      width: 300px;
      text-align: center;
    }

    .hidden {
      display: none;
    }

    .close {
      float: right;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="main-container">
    <div class="header">
      <h1>Review & Place Your Order</h1>
    </div>

    <section class="user-info">
      <h2>Hi, <span id="username">Retriever!</span></h2>

      <label for="pickup-time">Select Pickup Time:</label>
      <select id="pickup-time">
        <option value="">-- Select Time --</option>
        <!-- 10-min intervals from 10:00 AM to 6:00 PM -->
        <script>
          const pickupSelect = document.currentScript.parentElement.querySelector('#pickup-time');
          for (let h = 10; h <= 18; h++) {
            for (let m = 0; m < 60; m += 10) {
              const hour = h % 12 === 0 ? 12 : h % 12;
              const minute = m < 10 ? '0' + m : m;
              const ampm = h < 12 ? 'AM' : 'PM';
              const timeStr = `${hour}:${minute} ${ampm}`;
              const opt = document.createElement('option');
              opt.value = timeStr;
              opt.textContent = timeStr;
              pickupSelect.appendChild(opt);
            }
          }
        </script>

      <label for="payment-method">Payment Method:</label>
      <select id="payment-method" onchange="showPaymentPopup()">
        <option value="">-- Select --</option>
        <option value="credit">Credit/Debit Card</option>
        <option value="meal">Meal Plan</option>
      </select>
    </section>

    <div id="popup" class="popup hidden">
      <div class="popup-content">
        <span class="close" onclick="closePopup()">&times;</span>
        <h3>Enter Payment Details</h3>
        <input type="text" id="payment-input" placeholder="Card or Meal Plan Number" />
        <button onclick="submitPayment()">Submit</button>
      </div>
    </div>

    <section class="store-banner">
      <p><strong>Chick-fil-A @ The Commons</strong> â€” Ready in ~15 minutes</p>
    </section>

    <section class="item-summary">
      <h3>3 Items in Your Order</h3>

      <div class="item">
        <p><strong>Spicy Chicken Sandwich</strong> - $6.99</p>
        <a href="#">Edit</a>
        <div class="counter">
          <button>-</button>
          <span>1</span>
          <button>+</button>
          <button class="remove">Remove</button>
        </div>
      </div>

      <div class="item">
        <p><strong>Waffle Fries</strong> - $2.49</p>
        <a href="#">Edit</a>
        <div class="counter">
          <button>-</button>
          <span>2</span>
          <button>+</button>
          <button class="remove">Remove</button>
        </div>
      </div>
    </section>

    <section class="totals">
      <p>Subtotal: $11.97</p>
      <p>Tax + Fees: $1.02</p>
      <hr />
      <p><strong>Total: $12.99</strong></p>
    </section>

    <div class="submit-area">
      <button class="place-order" onclick="goToConfirmation()">Place Order</button>
    </div>
  </div>

  <script>
    function showPaymentPopup() {
      const method = document.getElementById("payment-method").value;
      if (method === "credit" || method === "meal") {
        document.getElementById("popup").classList.remove("hidden");
      }
    }

    function closePopup() {
      document.getElementById("popup").classList.add("hidden");
    }

    function submitPayment() {
      const value = document.getElementById("payment-input").value;
      alert("Payment Info Submitted: " + value);
      closePopup();
    }

    function goToConfirmation() {
      window.location.href = "confirmation.html";
    }
  </script>
</body>
</html>
